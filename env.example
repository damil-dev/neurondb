# Copy to .env and edit as needed:
#   cp env.example .env
#
# NOTE: This repo intentionally uses `env.example` (without a leading dot) because
# some environments restrict committing dotfiles like `.env.example`.
#
# This file matches the repo-root `docker-compose.yml`.

# ---------------------------
# Core build configuration
# ---------------------------
GO_VERSION=1.24
PG_MAJOR=17
PACKAGE_VERSION=1.0.0.beta
ONNX_VERSION=1.17.0

# Optional metadata (used only in image labels/build args)
VERSION=latest
BUILD_DATE=
VCS_REF=

# ---------------------------
# PostgreSQL / NeuronDB
# ---------------------------
# SECURITY: You MUST set secure passwords before deploying!
# Generate strong passwords using: openssl rand -base64 32
POSTGRES_USER=neurondb
POSTGRES_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD
POSTGRES_DB=neurondb
POSTGRES_HOST_AUTH_METHOD=md5

# Host ports (CPU/GPU profiles use different default ports)
POSTGRES_PORT=5433
POSTGRES_CUDA_PORT=5434
POSTGRES_ROCM_PORT=5435
POSTGRES_METAL_PORT=5436

# NeuronDB runtime toggles
NEURONDB_GPU_ENABLED=on
# 0=CPU, 1=CUDA, 2=ROCm, 3=Metal
NEURONDB_GPU_BACKEND_TYPE=0
# 0=CPU-only, 1=GPU
NEURONDB_COMPUTE_MODE=0

# CUDA build/runtime (only relevant for --profile cuda)
CUDA_VERSION=12.2.0
ENABLE_RAPIDS=0
NVIDIA_VISIBLE_DEVICES=all
NVIDIA_DRIVER_CAPABILITIES=compute,utility

# ROCm build/runtime (only relevant for --profile rocm)
ROCM_VERSION=5.7

# ---------------------------
# NeuronAgent (container env)
# ---------------------------
# Inside Docker network, services should use container names (default: neurondb).
# SECURITY: DB_PASSWORD must match POSTGRES_PASSWORD above!
DB_HOST=neurondb
DB_PORT=5432
DB_NAME=neurondb
DB_USER=neurondb
DB_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD

SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s

DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

LOG_LEVEL=info
LOG_FORMAT=json
CONFIG_PATH=

# ---------------------------
# NeuronMCP (container env)
# ---------------------------
# SECURITY: NEURONDB_PASSWORD must match POSTGRES_PASSWORD above!
NEURONDB_HOST=neurondb
NEURONDB_PORT=5432
NEURONDB_DATABASE=neurondb
NEURONDB_USER=neurondb
NEURONDB_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD
NEURONDB_CONNECTION_STRING=
NEURONDB_MCP_CONFIG=/app/mcp-config.json
NEURONDB_LOG_LEVEL=info
NEURONDB_LOG_FORMAT=text
NEURONDB_LOG_OUTPUT=stderr
NEURONDB_ENABLE_GPU=false

# ---------------------------
# NeuronDesktop API (container env)
# ---------------------------
NEURONAGENT_ENDPOINT=http://neuronagent:8080
NEURONAGENT_API_KEY=


