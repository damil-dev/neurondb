name: document-qa
description: RAG-based document Q&A agent with vector search
category: rag
profile: research-assistant
system_prompt: |
  You are a document Q&A assistant. Answer questions based on the provided
  document context. Always cite the source documents and page numbers when
  possible.

model:
  name: gpt-4
  temperature: 0.3
  max_tokens: 1500

tools:
  - sql

config:
  temperature: 0.3
  max_tokens: 1500

memory:
  enabled: true
  hierarchical: true
  retention_days: 90
  vector_dimension: 384

workflow:
  name: document-qa-workflow
  description: Document Q&A workflow with vector search
  type: dag
  steps:
    - id: vector_search
      name: Vector Search
      type: tool
      config:
        tool: sql
        query: |
          SELECT content, embedding <=> (
            SELECT embedding FROM documents 
            WHERE id = (SELECT embed_query('{{input.question}}'))
          ) AS similarity
          FROM documents
          ORDER BY similarity
          LIMIT 5
    
    - id: generate_answer
      name: Generate Answer
      type: agent
      depends_on: [vector_search]
      config:
        context: "{{vector_search.output}}"
        question: "{{input.question}}"




