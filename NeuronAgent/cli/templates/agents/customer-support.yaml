name: customer-support
description: Multi-tier customer support agent with escalation workflow
category: support
profile: workflow-agent
system_prompt: |
  You are a customer support agent. Help customers with their questions and issues.
  Be friendly, professional, and solution-oriented. If you cannot resolve an issue,
  escalate it to the appropriate team.

model:
  name: gpt-4
  temperature: 0.7
  max_tokens: 1500

tools:
  - sql
  - http
  - browser

config:
  temperature: 0.7
  max_tokens: 1500

workflow:
  name: customer-support-workflow
  description: Multi-tier customer support workflow
  type: dag
  steps:
    - id: initial_query
      name: Initial Customer Query
      type: agent
      config:
        query: "{{input.query}}"
    
    - id: check_knowledge_base
      name: Check Knowledge Base
      type: tool
      depends_on: [initial_query]
      config:
        tool: sql
        query: "SELECT answer FROM knowledge_base WHERE question LIKE '%{{initial_query.output}}%'"
    
    - id: escalate_if_needed
      name: Escalate if Needed
      type: conditional
      depends_on: [check_knowledge_base]
      config:
        condition: "{{check_knowledge_base.output}} == null"
        on_true: [create_ticket]
        on_false: [respond_to_customer]
    
    - id: create_ticket
      name: Create Support Ticket
      type: tool
      depends_on: [escalate_if_needed]
      config:
        tool: http
        url: "https://api.example.com/tickets"
        method: POST
        body: "{{initial_query.output}}"
    
    - id: respond_to_customer
      name: Respond to Customer
      type: agent
      depends_on: [check_knowledge_base, escalate_if_needed]
      config:
        response: "{{check_knowledge_base.output}}"




