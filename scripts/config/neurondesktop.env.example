# NeuronDesktop Environment Configuration
# =====================================
# Copy this file to your configuration directory (e.g., /etc/neurondb/neurondesktop.env)
# and update the values according to your setup.
#
# Usage:
#   cp scripts/config/neurondesktop.env.example /etc/neurondb/neurondesktop.env
#   # Edit /etc/neurondb/neurondesktop.env with your values
#
# For systemd services, reference this file in your service unit:
#   EnvironmentFile=/etc/neurondb/neurondesktop.env
#
# Note: This file is for the API backend. The frontend uses NEXT_PUBLIC_API_URL.

# ---------------------------
# Database Connection
# ---------------------------
# PostgreSQL database connection parameters for NeuronDesktop
# Note: For native PostgreSQL installations, typically use:
#   DB_HOST=localhost
#   DB_PORT=5432
# For Docker Compose setups, typically use:
#   DB_HOST=localhost (or container name in Docker network)
#   DB_PORT=5433 (Docker mapped port)

DB_HOST=localhost
DB_PORT=5432
DB_NAME=neurondesk
DB_USER=neurondb
DB_PASSWORD=your_password_here

# Connection pool settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# ---------------------------
# Server Configuration
# ---------------------------
# Server bind address
SERVER_HOST=0.0.0.0

# Server port
SERVER_PORT=8081

# Server timeouts
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s

# ---------------------------
# Logging
# ---------------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, text
LOG_FORMAT=json

# Log output: stdout, stderr, or file path
LOG_OUTPUT=stdout

# ---------------------------
# CORS Configuration
# ---------------------------
# Comma-separated list of allowed origins
# Use "*" for development only (not recommended for production)
CORS_ALLOWED_ORIGINS=*

# Comma-separated list of allowed methods
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Comma-separated list of allowed headers
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# ---------------------------
# NeuronDB Connection (for MCP)
# ---------------------------
# Connection parameters for NeuronDB database used by MCP
NEURONDB_HOST=localhost
NEURONDB_PORT=5432
NEURONDB_DATABASE=neurondb
NEURONDB_USER=neurondb
NEURONDB_PASSWORD=your_password_here

# NeuronMCP binary path
# Path to the neurondb-mcp binary
NEURONMCP_BINARY_PATH=/usr/local/bin/neurondb-mcp

# ---------------------------
# NeuronAgent Integration
# ---------------------------
# NeuronAgent API endpoint (optional)
# If set, enables NeuronAgent integration in NeuronDesktop
NEURONAGENT_ENDPOINT=http://localhost:8080

# NeuronAgent API key (optional)
# Required if NeuronAgent has API key authentication enabled
# NEURONAGENT_API_KEY=your_api_key_here

# ---------------------------
# Authentication (Optional)
# ---------------------------
# Authentication mode: oidc, jwt, hybrid
# AUTH_MODE=oidc

# JWT secret for JWT-based authentication
# JWT_SECRET=your_jwt_secret_here

# Enable local authentication
# ENABLE_LOCAL_AUTH=true

# OIDC configuration (if using OIDC)
# OIDC_ISSUER_URL=https://your-oidc-provider.com
# OIDC_CLIENT_ID=your_client_id
# OIDC_CLIENT_SECRET=your_client_secret
# OIDC_REDIRECT_URL=http://localhost:3000/auth/callback
# OIDC_SCOPES=openid,profile,email

# ---------------------------
# Session Configuration
# ---------------------------
# Session cookie domain (leave empty for default)
# SESSION_COOKIE_DOMAIN=

# Session cookie secure flag (use https in production)
SESSION_COOKIE_SECURE=false

# Session cookie same-site policy: Lax, Strict, None
SESSION_COOKIE_SAMESITE=Lax

# Session access token TTL
SESSION_ACCESS_TTL=15m

# Session refresh token TTL
SESSION_REFRESH_TTL=720h

# ---------------------------
# Security
# ---------------------------
# Enable SQL console (allows arbitrary SQL execution via API)
# WARNING: Only enable in trusted environments
ENABLE_SQL_CONSOLE=false

# Log retention period in days
LOG_RETENTION_DAYS=30

# Maximum request size in MB
MAX_REQUEST_SIZE_MB=10

# Enable PII sanitization in logs
ENABLE_PII_SANITIZATION=true




